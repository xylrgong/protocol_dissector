H1_TIMEOUT = 15  # 单位： 秒

H1_ERR_CODE = {
    100: 'Invalid dst mac',
    101: 'Invalid src mac',
    102: 'Invalid dst ref',
    103: 'Invalid src ref',
    200: 'Timeout',
    201: 'Connection closed'
}

EQUIP_NAME =(
    {
        b'\x0e\x00\x1f': "aa101",  #
        b'\x10\x00\x3a': "aa102",  #
        b'\x11\x00\x34': "aa103",  #
        b'\x13\x00\x13': "aa104",  #
    }
)
AA101 = (
    {
       '04027070040e80000000001f8100200f783f6ff48100783f69f48000783f6bf48000783f63f48000783f64f48000783f6af48000783f68f48100783f6ef46500':"关闭",
       '04027070040e80000000001f8100200f783f6ff48000783f69f48000783f6bf48000783f63f48000783f64f48000783f6af48100783f68f48100783f6ef46500':"开启",
       '04027070040e80000000001f8100200f783f6ff48000783f69f48000783f6bf48000783f63f48000783f64f48000783f6af48000783f68f48100783f6ef46500':"重置状态"
    }
)

AA102 = (
    {
        '04027070041080000000003a81002064783f6f028100783f69028000783f68028100783f6e02783f3e04783f65003d4f2d0800e600136400000500020836640c783f3f04783f63003d4f2d0800e6001164000003000208346408783f3d04783f64003d4f2d0800e600126400000400020835640a6500':"关闭",
        '04027070041080000000003a81002064783f6f028000783f69028100783f68028100783f6e02783f3e04783f65003d4f2d0800e600136400000500020836640c783f3f04783f63003d4f2d0800e6001164000003000208346408783f3d04783f64003d4f2d0800e600126400000400020835640a6500':"开启",
        '04027070041080000000003a81002064783f6f028000783f69028000783f68028100783f6e02783f3e04783f65003d4f2d0800e600136400000500020836640c783f3f04783f63003d4f2d0800e6001164000003000208346408783f3d04783f64003d4f2d0800e600126400000400020835640a6500':"重置状态"
}
)

AA103 = (
    {
      '040270700411800000000034a000fc02b10a8000910a810a300205001c02f802200f783f68f6a100fc01b00a8100900a800a300211001c01f801783f69f68100783f6ef68100783f6ff6200a783f2f0c2064783f66003d4f2d0800e600146400000600020857640e6500':"关闭",
      '040270700411800000000034a100fc02b10a8100910a810a300205001c02f802200f783f68f6a000fc01b00a8000900a800a300211001c01f801783f69f68100783f6ef68100783f6ff6200a783f2f0c2064783f66003d4f2d0800e600146400000600020857640e6500':"开启",
      '040270700411800000000034a000fc02b10a8000910a810a300205001c02f802200f783f68f6a000fc01b00a8000900a800a300211001c01f801783f69f68100783f6ef68100783f6ff6200a783f2f0c2064783f66003d4f2d0800e600146400000600020857640e6500':"重置状态"
    }
)

AA104 = (
    {
       '04027070041380000000001381002064783f69108000783f68108100783f6e108100783f6f106500':"关闭",
       '04027070041380000000001380002064783f69108100783f68108100783f6e108100783f6f106500':"开启",
       '04027070041380000000001380002064783f69108000783f68108100783f6e108100783f6f106500':"重置状态"
    }
)

OPERATE_DATA =(
    {
        "aa101": AA101,  #
        "aa102": AA102,  #
        "aa103": AA103,  #
        "aa104": AA104,  #
    }
)

class S5_Params(object):
    def __init__(self):
        self.iface = ''
        self.is_passive = False
        self.conn = None
        self.your_tpdunr = 0
        self.my_tpdunr = 0
        self.credit = 0
        self.cause = 0
        self.equip = None
        self.set_status = None


class S5_Config(object):
    connections = []

    @staticmethod
    def add_conn(conn):
        assert isinstance(conn, COTP_Connection)
        if conn not in S5_Config.connections:
            S5_Config.connections.append(conn)

    @staticmethod
    def pop_conn(conn):
        try:
            i = S5_Config.connections.index(conn)
            return S5_Config.connections.pop(i)
        finally:
            return None

    @staticmethod
    def has_conn(conn):
        return conn in S5_Config.connections

cotp_conf = S5_Config()
